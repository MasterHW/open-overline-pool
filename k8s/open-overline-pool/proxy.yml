apiVersion: v1
kind: Pod
metadata:
  name: open-overline-pool-proxy
  labels:
    app: open-overline-pool
spec:
  volumes:
  - name: config
    secret:
      secretName: proxy-config-file
  containers:
  - name: oovp-test-container
    image: lgray/open-overline-pool-api:latest
    volumeMounts:
    - name: config
      mountPath: "/config"
      readOnly: true
    args: ['/config/config.proxy.json']
    ports:
    - containerPort: 3141 # stratum mining
    - containerPort: 3142 # http mining
    imagePullPolicy: Always