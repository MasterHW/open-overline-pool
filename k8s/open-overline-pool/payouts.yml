apiVersion: v1
kind: Pod
metadata:
  name: open-overline-pool-payouts
  labels:
    app: open-overline-pool
spec:
  volumes:
  - name: config
    secret:
      secretName: payouts-config-file  
  containers:
  - name: oovp-test-container
    image: lgray/open-overline-pool-api:latest
    env:
    #- name: RESOLVE_PAYOUT
    #  value: "1"
    - name: POOL_MINER_KEY
      valueFrom:
        secretKeyRef:
          name: pool-miner-key
          key: value 
    - name: POOL_MINER_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          name: pool-miner-private-key
          key: value
    - name: POOL_NODE_SCOOKIE
      valueFrom:
        secretKeyRef:
          name: pool-miner-scookie
          value: value
    volumeMounts:
    - name: config
      mountPath: "/config"
      readOnly: true
    args: ['/config/config.payouts.json']
    imagePullPolicy: Always